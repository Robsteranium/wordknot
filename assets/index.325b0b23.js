import{r as O,a as P,b as R,c as j,s as B,d as E,e as K,t as b,f as _}from"./vendor.d6b61010.js";const W=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}};W();const q=(t,e,o)=>{let n=[...Array(e)].map(r=>[...Array(o)]);return t.forEach(r=>{n[r.p[0]][r.p[1]]=r.letter}),n},A=(t,e,o)=>{const n=q(t,e,o),r=(s,l)=>l!==void 0?s:s+=1;return n.map(s=>P(R(()=>0,r),s.reverse()).reverse().slice(-o))},G=(t,e,o)=>q(t,e,o).map(s=>s.map(l=>l===void 0).reduce((l,f)=>l+=+f,0)).map((s,l)=>[...O(0,s)].map(f=>[l,f])),y=class{constructor(){this.letters=Object.keys(y.letterFrequency),this.cumulativeFrequencies=Object.values(y.letterFrequency).reduce((e,o)=>{const n=e.slice(-1)[0]|0;return e.push(o+n),e},[]);const t=this.cumulativeFrequencies.slice(-1)[0];this.cumulativeProbabilities=this.cumulativeFrequencies.map(e=>e/t)}generate(){const t=Math.random(),e=this.cumulativeProbabilities.filter(o=>t>o).length;return this.letters[e]}};let M=y;M.letterFrequency={a:8.34,b:1.54,c:2.73,d:4.14,e:12.6,f:2.03,g:1.92,h:6.11,i:6.71,j:.23,k:.87,l:4.24,m:2.53,n:6.8,o:7.7,p:1.66,q:.09,r:5.68,s:6.11,t:9.37,u:2.85,v:1.06,w:2.34,x:.2,y:2.04,z:.06};const h=document.body.clientWidth,g=document.body.clientHeight,v=4/3,[u,H]=g>h?[h,h*v]:[g/v,g],d=6,p=u/d,C=1/2,N=p*C;let a=[],m=!1;const I=new M,x=()=>I.generate(),T=t=>[...j(t,t)].map(([e,o])=>({p:[e,o],letter:x(),target_p:[e,o],velocity:[0,0],resting:!0}));let i=T(d),F=0;const X=([t,e])=>[(.5+t)*p,(.5+e)*p],Y=t=>{const e=a.findIndex(n=>_(n.p,t.p)),o=e*25%256;return e==-1?"lightgrey":`hsl(${o}, 100%, 50%)`},$=t=>t.flatMap(e=>{const o=X(e.p),n=Y(e);return[K(o,N,{fill:n}),b(o,e.letter,{font:`${p/v}px Roboto`,fill:"black",baseline:"middle",align:"center"})]}),z=t=>{const e=t.map(o=>o.letter).join("");return b([u/2,u+25],e,{font:"80px Roboto",fill:"black",align:"center",baseline:"top"})},D=t=>b([u/2,u+100],t,{font:"60px Roboto",fill:"grey",align:"center",baseline:"top"});let S=.02,V=.6,J=.01;x();const Q=()=>{i.forEach(t=>{t.resting||(t.velocity[1]+=S,t.p[1]+=t.velocity[1],t.p[1]>=t.target_p[1]&&(t.velocity[1]=t.velocity[1]*-V,-t.velocity[1]<J?(t.resting=!0,t.p=t.target_p):t.p[1]=t.target_p[1]-.001))})},U=()=>{Q()},Z=(t,e)=>t.filter(o=>!e.some(n=>_(n.p,o.p))),tt=t=>G(t,d,d).flatMap(e=>{let o=Math.max(...e.map(n=>n[1]))+1;return e.map(n=>({p:[n[0],n[1]-o],letter:x(),target_p:n,velocity:[0,0],resting:!1}))}),et=t=>{const e=A(t,d,d);return t.map(n=>(n.target_p=[n.p[0],n.p[1]+e[n.p[0]][n.p[1]]],n.resting=n.p===n.target_p,n))},nt=t=>e=>t.indexOf(`
`+e+`
`)>0,L=t=>{const e=t[0]/p,o=t[1]/p,n=e-(e|0)-.5,r=o-(o|0)-.5;if(Math.sqrt(Math.pow(n,2)+Math.pow(r,2))<C)return i.find(f=>_(f.p,[e|0,o|0]))},k=()=>a[a.length-1],ot=t=>{const e=L([t.offsetX,t.offsetY]);e!==void 0&&m&&e!==k()&&a.push(e)},rt=t=>{const e=t.targetTouches[0];var n=t.target.getBoundingClientRect(),r=e.clientX-n.x,c=e.clientY-n.y;const s=L([r,c]);s!==void 0&&m&&s!==k()&&a.push(s)},w=()=>{m=!0,a=[]},st=t=>function(){m=!1;const e=a.map(o=>o.letter).join("");t(e)&&(i=Z(i,a),F+=Math.pow(e.length,3)),i=et(i),i=i.concat(tt(i)),a=[]};async function ct(){const t=await fetch("words.txt").then(n=>n.text()),e=nt(t),o=st(e);B(()=>[E,{width:u,height:H,onmousemove:ot,onmousedown:w,onmouseup:o,ontouchmove:rt,ontouchstart:w,ontouchend:o},U(),...$(i),z(a),D(F)])}ct();
